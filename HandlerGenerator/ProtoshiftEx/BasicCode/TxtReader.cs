#region // Generated by ChatGPT
// 请你编写一个静态类 TxtReader，读取具有以下格式的 txt 内容：

// - 每行代表一个内容，忽略前导/后置空格/缩进。
// - 以 `#` 代表注释符号。
// - 忽略空行。
// - 忽略行末注释。

// 它需要实现：

// - `List<string> ReadFrom(string filePath)`：传入文件所在路径，返回每行有效内容的集合。
#endregion

using System.Collections.Generic;
using System.IO;
using System.Linq;

namespace csharp_Protoshift.Enhanced.Handlers.Generator
{
    public static class TxtReader
    {
        public static List<string> ReadFrom(string filePath)
        {
            var lines = from line in File.ReadAllLines(filePath)
                        let trimmedLine = line.Trim()
                        where !string.IsNullOrWhiteSpace(trimmedLine) && !trimmedLine.StartsWith("#")
                        let index = trimmedLine.IndexOf('#')
                        select index >= 0 ? trimmedLine.Substring(0, index).TrimEnd() : trimmedLine;

            return lines.ToList();
        }
    }
}